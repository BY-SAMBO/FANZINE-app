<!DOCTYPE html>
<html lang="es" class="h-full">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FANZINE - Navegador de Prototipos</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <script>
    tailwind.config = {
      theme: { extend: { colors: { brand: '#DC2626', chick: '#FDE047', sky: '#7DD3FC' } } }
    }
  </script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
    body { font-family: 'Inter', sans-serif; }
    .style-btn.active { background: #DC2626; color: white; border-color: #DC2626; }
    .page-btn.active { background: #111; color: white; border-color: #111; }
    iframe { border: none; width: 100%; height: 100%; }
    .thumb { transition: all 0.2s; }
    .thumb:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(0,0,0,0.15); }
    .thumb.active { ring: 3px solid #DC2626; }
  </style>
</head>
<body class="h-full bg-gray-950 text-white overflow-hidden">

  <!-- Top Bar -->
  <header class="bg-gray-900 border-b border-white/10 px-4 py-3 flex items-center justify-between gap-4 shrink-0">
    <div class="flex items-center gap-3">
      <div class="w-8 h-8 bg-brand rounded-lg flex items-center justify-center"><span class="font-extrabold text-sm text-white">F</span></div>
      <div>
        <h1 class="font-bold text-sm">FANZINE Prototipos</h1>
        <p class="text-[10px] text-gray-500">Navegador de estilos UI</p>
      </div>
    </div>

    <!-- Style selector -->
    <div class="flex gap-1.5" id="styleTabs">
      <button onclick="setStyle('neobrutalista')" data-style="neobrutalista" class="style-btn active px-3 py-1.5 rounded-lg text-xs font-semibold border border-white/10 transition-all hover:border-brand">
        Neobrutalista
      </button>
      <button onclick="setStyle('retro-minimal')" data-style="retro-minimal" class="style-btn px-3 py-1.5 rounded-lg text-xs font-semibold border border-white/10 transition-all hover:border-brand">
        Retro Minimal
      </button>
      <button onclick="setStyle('pixel-outline')" data-style="pixel-outline" class="style-btn px-3 py-1.5 rounded-lg text-xs font-semibold border border-white/10 transition-all hover:border-brand">
        Pixel Outline
      </button>
    </div>

    <!-- Page selector -->
    <div class="flex gap-1.5" id="pageTabs">
      <button onclick="setPage('productos-lista')" data-page="productos-lista" class="page-btn active px-3 py-1.5 rounded-lg text-xs font-medium border border-white/10 transition-all hover:border-white/40">
        <span class="hidden sm:inline">Lista Productos</span>
        <span class="sm:hidden">Lista</span>
      </button>
      <button onclick="setPage('producto-detalle')" data-page="producto-detalle" class="page-btn px-3 py-1.5 rounded-lg text-xs font-medium border border-white/10 transition-all hover:border-white/40">
        <span class="hidden sm:inline">Detalle Cards</span>
        <span class="sm:hidden">Cards</span>
      </button>
      <button onclick="setPage('producto-detalle-v2')" data-page="producto-detalle-v2" class="page-btn px-3 py-1.5 rounded-lg text-xs font-medium border border-white/10 transition-all hover:border-white/40">
        <span class="hidden sm:inline">Detalle Tabla</span>
        <span class="sm:hidden">Tabla</span>
      </button>
    </div>

    <!-- Actions -->
    <div class="flex items-center gap-2">
      <button onclick="toggleView()" id="viewToggle" class="p-2 rounded-lg border border-white/10 hover:bg-white/5 transition-colors" title="Alternar vista">
        <i data-lucide="columns-2" class="w-4 h-4" id="viewIcon"></i>
      </button>
      <button onclick="openInNewTab()" class="p-2 rounded-lg border border-white/10 hover:bg-white/5 transition-colors" title="Abrir en nueva pestaña">
        <i data-lucide="external-link" class="w-4 h-4"></i>
      </button>
    </div>
  </header>

  <!-- Main content area -->
  <div class="flex-1 flex flex-col" style="height: calc(100vh - 56px);">

    <!-- Single view -->
    <div id="singleView" class="flex-1 relative">
      <iframe id="mainFrame" src="neobrutalista/productos-lista.html"></iframe>
      <!-- Info overlay -->
      <div class="absolute bottom-4 left-4 bg-gray-900/90 backdrop-blur-sm rounded-lg px-3 py-2 border border-white/10 text-xs flex items-center gap-3">
        <span id="currentLabel" class="font-semibold text-brand">Neobrutalista</span>
        <span class="text-gray-500">|</span>
        <span id="currentPage" class="text-gray-300">Lista Productos</span>
        <span class="text-gray-500">|</span>
        <span class="text-gray-500">Flechas <kbd class="px-1 py-0.5 bg-white/10 rounded text-[10px] font-mono">←</kbd> <kbd class="px-1 py-0.5 bg-white/10 rounded text-[10px] font-mono">→</kbd> para cambiar estilo</span>
      </div>
    </div>

    <!-- Compare view (3 side by side) -->
    <div id="compareView" class="flex-1 hidden">
      <div class="flex h-full gap-px bg-gray-800">
        <div class="flex-1 flex flex-col">
          <div class="bg-gray-900 px-3 py-1.5 flex items-center gap-2 border-b border-white/10 shrink-0">
            <span class="w-2 h-2 rounded-full bg-brand"></span>
            <span class="text-xs font-semibold">Neobrutalista</span>
          </div>
          <iframe id="compareFrame1" src="" class="flex-1"></iframe>
        </div>
        <div class="flex-1 flex flex-col">
          <div class="bg-gray-900 px-3 py-1.5 flex items-center gap-2 border-b border-white/10 shrink-0">
            <span class="w-2 h-2 rounded-full bg-chick"></span>
            <span class="text-xs font-semibold">Retro Minimal</span>
          </div>
          <iframe id="compareFrame2" src="" class="flex-1"></iframe>
        </div>
        <div class="flex-1 flex flex-col">
          <div class="bg-gray-900 px-3 py-1.5 flex items-center gap-2 border-b border-white/10 shrink-0">
            <span class="w-2 h-2 rounded-full bg-sky"></span>
            <span class="text-xs font-semibold">Pixel Outline</span>
          </div>
          <iframe id="compareFrame3" src="" class="flex-1"></iframe>
        </div>
      </div>
    </div>

  </div>

<script>
  lucide.createIcons();

  let currentStyle = 'neobrutalista';
  let currentPage = 'productos-lista';
  let isCompareMode = false;

  const styles = ['neobrutalista', 'retro-minimal', 'pixel-outline'];
  const pages = ['productos-lista', 'producto-detalle', 'producto-detalle-v2'];
  const styleLabels = { 'neobrutalista': 'Neobrutalista', 'retro-minimal': 'Retro Minimal', 'pixel-outline': 'Pixel Outline' };
  const pageLabels = { 'productos-lista': 'Lista Productos', 'producto-detalle': 'Detalle Cards', 'producto-detalle-v2': 'Detalle Tabla' };

  function getUrl(style, page) {
    return `${style}/${page}.html`;
  }

  function setStyle(style) {
    currentStyle = style;
    updateTabs();
    updateFrame();
  }

  function setPage(page) {
    currentPage = page;
    updateTabs();
    updateFrame();
  }

  function updateTabs() {
    document.querySelectorAll('.style-btn').forEach(b => {
      b.classList.toggle('active', b.dataset.style === currentStyle);
    });
    document.querySelectorAll('.page-btn').forEach(b => {
      b.classList.toggle('active', b.dataset.page === currentPage);
    });
    document.getElementById('currentLabel').textContent = styleLabels[currentStyle];
    document.getElementById('currentPage').textContent = pageLabels[currentPage];
  }

  function updateFrame() {
    if (isCompareMode) {
      document.getElementById('compareFrame1').src = getUrl('neobrutalista', currentPage);
      document.getElementById('compareFrame2').src = getUrl('retro-minimal', currentPage);
      document.getElementById('compareFrame3').src = getUrl('pixel-outline', currentPage);
    } else {
      document.getElementById('mainFrame').src = getUrl(currentStyle, currentPage);
    }
  }

  function toggleView() {
    isCompareMode = !isCompareMode;
    document.getElementById('singleView').classList.toggle('hidden', isCompareMode);
    document.getElementById('compareView').classList.toggle('hidden', !isCompareMode);
    // Update icon
    const iconEl = document.getElementById('viewIcon');
    iconEl.setAttribute('data-lucide', isCompareMode ? 'maximize-2' : 'columns-2');
    lucide.createIcons();
    // Hide/show style tabs in compare mode
    document.getElementById('styleTabs').style.opacity = isCompareMode ? '0.3' : '1';
    document.getElementById('styleTabs').style.pointerEvents = isCompareMode ? 'none' : 'auto';
    updateFrame();
  }

  function openInNewTab() {
    window.open(getUrl(currentStyle, currentPage), '_blank');
  }

  // Keyboard navigation
  document.addEventListener('keydown', (e) => {
    if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') {
      e.preventDefault();
      const idx = styles.indexOf(currentStyle);
      if (e.key === 'ArrowRight') {
        setStyle(styles[(idx + 1) % styles.length]);
      } else {
        setStyle(styles[(idx - 1 + styles.length) % styles.length]);
      }
    }
    if (e.key === 'ArrowUp' || e.key === 'ArrowDown') {
      e.preventDefault();
      const idx = pages.indexOf(currentPage);
      if (e.key === 'ArrowDown') {
        setPage(pages[(idx + 1) % pages.length]);
      } else {
        setPage(pages[(idx - 1 + pages.length) % pages.length]);
      }
    }
    if (e.key === 'c' || e.key === 'C') {
      toggleView();
    }
  });
</script>
</body>
</html>
